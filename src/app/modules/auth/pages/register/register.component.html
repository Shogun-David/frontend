<div class="content">
  <div class="register-container">
    <div class="register-card">
      <h1>Crear Cuenta</h1>
      <p class="subtitle">Registro de usuario</p>

      <!-- Error -->
      <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
      </div>

      <!-- Éxito -->
      <div *ngIf="successMessage" class="alert alert-success">
        {{ successMessage }}
      </div>

      <form [formGroup]="formRegister" (ngSubmit)="registrar()">

        <!-- Username -->
        <div class="form-group">
          <label>Usuario</label>
          <input
            type="text"
            class="form-control"
            formControlName="username"
            placeholder="usuario123"
          />
          <small class="text-danger"
            *ngIf="formRegister.get('username')?.touched &&
                   formRegister.get('username')?.invalid">
            Usuario inválido
          </small>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label>Email</label>
          <input
            type="email"
            class="form-control"
            formControlName="email"
            placeholder="correo@usuario.com"
          />
          <small class="text-danger"
            *ngIf="formRegister.get('email')?.touched &&
                   formRegister.get('email')?.invalid">
            Email inválido
          </small>
        </div>

        <!-- Password -->
        <div class="form-group">
          <label>Contraseña</label>
          <input
            type="password"
            class="form-control"
            formControlName="password"
          />
          <small class="text-danger"
            *ngIf="formRegister.get('password')?.touched &&
                   formRegister.get('password')?.invalid">
            Mínimo 6 caracteres
          </small>
        </div>

        <!-- Confirmar Password -->
        <div class="form-group">
          <label>Confirmar Contraseña</label>
          <input
            type="password"
            class="form-control"
            formControlName="confirmarPassword"
          />
          <small class="text-danger"
            *ngIf="!passwordsCoinciden &&
                   formRegister.get('confirmarPassword')?.touched">
            Las contraseñas no coinciden
          </small>
        </div>

        <button
          type="submit"
          class="btn btn-primary w-100"
          [disabled]="isLoading || formRegister.invalid || !passwordsCoinciden">
          {{ isLoading ? 'Registrando...' : 'Registrarse' }}
        </button>
      </form>

      <p class="login-link mt-3">
        ¿Ya tienes cuenta?
        <a (click)="irALogin()">Inicia sesión</a>
      </p>
    </div>
  </div>
</div>
