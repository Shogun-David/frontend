<div class="modal-header">
  <h5 class="modal-title">
    <i class="uil uil-plus-circle me-2"></i>
    Nueva Reserva
  </h5>

  <button type="button" class="btn-close" (click)="cancelar()"></button>
</div>

<div class="modal-body">
  <form [formGroup]="form">

    <!-- SALA -->
    <div class="mb-3">
      <label class="form-label">Sala</label>
      <select class="form-select" formControlName="idSala">
        <option value="">Seleccione</option>
        <option *ngFor="let sala of salas" [value]="sala.idSala">
          {{ sala.nombre }} - {{ sala.ubicacion }}
        </option>
      </select>
    </div>

    <!-- CALENDARIO -->
    <div class="mb-4" *ngIf="calendarOptions">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <label class="form-label mb-0">
          Seleccione un rango disponible
        </label>
        <span class="badge bg-info text-dark" title="Haz click en el primer d칤a y arrastra hasta el 칰ltimo.">
          C칩mo usar
        </span>
      </div>

      <small class="text-muted d-block mb-2">
        游댮 D칤as ocupados no disponibles. <br/>
        游릭 Selecciona un rango arrastrando en el calendario.
      </small>

      <full-calendar class="fullcalendar" [options]="calendarOptions"></full-calendar>
    </div>

    <!-- FECHA INICIO -->
    <div class="mb-3">
      <label class="form-label">Fecha inicio</label>
      <input
        type="datetime-local"
        class="form-control"
        formControlName="fechaInicio"
        [min]="minFechaInicio"
        readonly
      >
    </div>

    <!-- FECHA FIN -->
    <div class="mb-3">
      <label class="form-label">Fecha fin</label>
      <input
        type="datetime-local"
        class="form-control"
        formControlName="fechaFin"
        readonly
      >
    </div>

    <!-- OBSERVACI칍N -->
    <div class="mb-3">
      <label class="form-label">Observaci칩n</label>
      <input
        type="text"
        class="form-control"
        formControlName="observacion"
        placeholder="Ej. Reuni칩n mensual, capacitacion, etc."
      >
    </div>

    <!-- ERROR -->
    <div class="alert alert-danger py-1" *ngIf="form.errors?.['fechaFinInvalida']">
      La fecha fin debe ser mayor que la fecha inicio
    </div>

  </form>
</div>

<div class="modal-footer">
  <button class="btn btn-secondary" (click)="cancelar()">Cancelar</button>
  <button class="btn btn-primary" [disabled]="form.invalid || loading" (click)="guardar()">
    Guardar
  </button>
</div>
