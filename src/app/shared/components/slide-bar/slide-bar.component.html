<div class="d-flex flex-column p-3 text-white bg-primary vh-100" style="position: fixed !important;">

  <!-- PERFIL -->
  <div
    class="d-flex flex-column align-items-center text-center mb-4"
    *ngIf="user$ | async as user">

    <img
      [src]="isAdmin(user) ? 'assets/admin-avatar.webp' : 'assets/user-avatar.png'"
      class="rounded-circle mb-2"
      width="64"
      height="64"
      alt="Avatar"
    />

    <div class="fw-bold">{{ user.username }}</div>
    <small class="text-light">
      {{ isAdmin(user) ? 'Administrador' : 'Usuario' }}
    </small>
  </div>

  <hr class="border-light">

  <!-- MENÚ -->
  <ul class="nav nav-pills flex-column mb-3">

    <li class="nav-item">
      <a routerLink="/reservas"
         routerLinkActive="active"
         class="nav-link text-white">
        <i class="bi bi-journal-text me-2"></i> Mis Reservas
      </a>
    </li>

   


    <li class="nav-item">
      <a routerLink="/reservas/calendario/user"
         routerLinkActive="active"
         class="nav-link text-white">
        <i class="bi bi-calendar-event me-2"></i> Calendario
      </a>
    </li>

    <!-- BOTONES SOLO ADMIN -->
    <ng-container *ngIf="user$ | async as user">
       <li class="nav-item" *ngIf="isAdmin(user)">
        <a routerLink="/salas"
          routerLinkActive="active"
          class="nav-link text-white">
          <i class="bi bi-building me-2"></i> Salas
        </a>
      </li>

      <li class="nav-item" *ngIf="isAdmin(user)">
        <a routerLink="/admin/usuarios"
           routerLinkActive="active"
           class="nav-link text-white">
          <i class="bi bi-people me-2"></i> Ver Usuarios
        </a>
      </li>

      <li class="nav-item" *ngIf="isAdmin(user)">
        <a routerLink="/admin"
           routerLinkActive="active"
           class="nav-link text-white">
          <i class="bi bi-calendar3 me-2"></i> Reservas de Usuarios
        </a>
      </li>
    </ng-container>

  </ul>

  <!-- LOGOUT ABAJO -->
  <button class="btn btn-outline-light btn-sm w-100 mt-auto" (click)="logout()">
    <i class="bi bi-box-arrow-right me-1"></i> Cerrar sesión
  </button>

</div>
